<div class="container mt-4">

  <h1 class="display-4 text-center">
    <i class="fa fa-book-open text-primary"></i> Books Management
  </h1>

  <!-- Displaying Selected Book -->
  <div *ngIf="selectedBook" class="card mt-4">
    <div class="card-header">
      <h3>Selected Book</h3>
    </div>
    <div class="card-body">
      <p>Title: {{ selectedBook.title }}</p>
      <p>Author ID: {{ selectedBook.authorId }}</p>
      <p>Description: {{ selectedBook.description }}</p>
      <p>Rating: {{ selectedBook.rating }}</p>
      <img *ngIf="selectedBook.imageUrl" [src]="selectedBook.imageUrl" alt="{{ selectedBook.title }}" class="img-fluid"/>
    </div>
  </div>

  <!-- Form to Create/Update Book -->
  <form (ngSubmit)="createOrUpdateBook()" id="book-form" class="mt-4">
    <div class="form-group">
      <label for="title">Title</label>
      <input type="text" id="title" [(ngModel)]="formBook.title" name="title" placeholder="Title" class="form-control"/>
    </div>

    <div class="form-group">
      <label for="authorId">Author ID</label>
      <input type="text" id="authorId" [(ngModel)]="formBook.authorId" name="authorId" placeholder="Author ID" class="form-control"/>
    </div>

    <div class="form-group">
      <label for="description">Description</label>
      <textarea id="description" [(ngModel)]="formBook.description" name="description" placeholder="Description" class="form-control"></textarea>
    </div>

    <div class="form-group">
      <label for="rating">Rating</label>
      <input type="number" id="rating" [(ngModel)]="formBook.rating" name="rating" placeholder="Rating" class="form-control"/>
    </div>

    <div class="form-group">
      <label for="imageUrl">Image URL</label>
      <input type="text" id="imageUrl" [(ngModel)]="formBook.imageUrl" name="imageUrl" placeholder="Image URL" class="form-control"/>
    </div>

    <input type="submit" value="Submit" class="btn btn-primary btn-block"/>
  </form>

  <!-- List of Books -->
  <table class="table table-striped mt-5">
    <thead>
    <tr>
      <th>Title</th>
      <th>Action</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let book of books">
      <td>{{ book.title }}</td>
      <td>
        <button (click)="getBook(book.id)" class="btn btn-info btn-sm">View</button>
        <button (click)="editBook(book)" class="btn btn-warning btn-sm">Edit</button>
        <button (click)="deleteBook(book.id)" class="btn btn-danger btn-sm">Delete</button>
      </td>
    </tr>
    </tbody>
  </table>
</div>
